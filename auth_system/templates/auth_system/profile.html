{% extends "includes/base.html" %}
{% load static %}

{% block content %}

<main class="main pages">
    <div class="page-header breadcrumb-wrap">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html" rel="nofollow"><i class="fi-rs-home mr-5"></i>Home</a>
                <span></span> Pages
                <span></span> My Account
            </div>
        </div>
    </div>
    <div class="page-content pt-60 pb-60">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 m-auto">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="dashboard-menu">
                                <center><img src="{{ user_profile.profile_picture.url }}"
                                        style="width: 70%;height: 70%;" alt="Profile Picture"></center>

                                <form method="post" enctype="multipart/form-data"
                                    action="{% url 'auth_system:update-profile-picture' %}">
                                    {% csrf_token %}
                                    {{ form.as_p }}
                                    <center><button type="submit"
                                            style="height: 1%;width: 70%;font-size: 12px;margin-bottom: 10%;">Update
                                            Profile Picture</button></center>
                                </form>
                                <ul class="nav flex-column" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="dashboard-tab" data-bs-toggle="tab"
                                            href="#dashboard" role="tab" aria-controls="dashboard"
                                            aria-selected="false">
                                            <i class="fi-rs-user mr-10"></i>Account Details</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="orders-tab" href="{% url 'auth_system:display_favorites' %}"
                                            role="tab" aria-controls="orders" aria-selected="false"><i
                                                class="fi-rs-shopping-bag mr-10"></i>Shopping List</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="track-orders-tab" data-bs-toggle="tab"
                                            href="#track-orders" role="tab" aria-controls="track-orders"
                                            aria-selected="false">
                                            <!-- <i class="fi-rs-shopping-cart-check mr-10"></i> -->
                                            Liked Products</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="address-tab" data-bs-toggle="tab" href="#address"
                                            role="tab" aria-controls="address" aria-selected="true">
                                            <!-- <i class="fi-rs-marker mr-10"></i> -->
                                            Disliked Products</a>
                                    </li>
                                    <!-- <li class="nav-item">
                                        <a class="nav-link" id="account-detail-tab" data-bs-toggle="tab" href="#account-detail" role="tab" aria-controls="account-detail" aria-selected="true"><i class="fi-rs-user mr-10"></i>Account details</a>
                                    </li> -->
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'auth_system:logout' %}"><i
                                                class="fi-rs-sign-out mr-10"></i>Logout</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="tab-content account dashboard-content pl-50">
                                <div class="tab-pane fade active show" id="dashboard" role="tabpanel"
                                    aria-labelledby="dashboard-tab">
                                    <div class="card">
                                        <div class="card-body">
                                            <form method="post" enctype="multipart/form-data">
                                                {% csrf_token %}
                                                <div class="row">
                                                    <h4>Account Details</h4>
                                                    <hr>
                                                    <div class="form-group col-md-6" style="margin-bottom: 5%;">
                                                        <label>First Name</label>
                                                        <h5>{{ user_profile.user.first_name }}</h5>
                                                    </div>
                                                    <div class="form-group col-md-6" style="margin-bottom: 5%;">
                                                        <label>Last Name</label>
                                                        <h5>{{ user_profile.user.last_name }}</h5>
                                                    </div>
                                                    <br>
                                                    <div class="form-group col-md-6" style="margin-bottom: 8%;">
                                                        <label>Email Address</label>
                                                        <h5>{{ user_profile.user.email }}</h5>
                                                    </div>
                                                    <br>
                                                    <h4>Personal Details</h4>
                                                    <hr>
                                                    <div class="row">
                                                        <div class="form-group col-md-6" style="margin-bottom: 5%;">
                                                            <label>Display Name</label>
                                                            <h5>{{ user_profile.user.username }}</h5>
                                                        </div>
                                                        <div class="form-group col-md-6" style="margin-bottom: 5%;">
                                                            <label>Gender</label>
                                                            <h5>{{ user_profile.gender }}</h5>
                                                        </div>
                                                    </div>
                                                    <br>
                                                    <div class="row">
                                                        <div class="form-group col-md-6" style="margin-bottom: 5%;">
                                                            <label>Birthday</label>
                                                            <h5>{{ user_profile.birthday }}</h5>
                                                        </div>
                                                        <div class="form-group col-md-6" style="margin-bottom: 5%;">
                                                            <label>Age</label>
                                                            <h5>{{ user_profile.age }}</h5>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-md-6" style="margin-bottom: 5%;">
                                                            <label>Region</label>
                                                            <h5>{{ user_profile.region }}</h5>
                                                        </div>
                                                        <div class="form-group col-md-6" style="margin-bottom: 5%;">
                                                            <label>City</label>
                                                            <h5>{{ user_profile.city }}</h5>
                                                        </div>
                                                    </div>
                                                    <br>
                                                    <div class="form-group col-md-6" style="margin-bottom: 5%;">
                                                        <label>Purpose</label>
                                                        <h5>{{ user_profile.purpose }}</h5>
                                                    </div>
    
                                                </div>

                                            </form>
                                            
                                          
                                        </div> 
                                    </div>
                                    <div class="col-md-12">
                            
                                        <a href="{% url 'auth_system:edit-profile' %}" class="btn btn-primary">Edit Profile</a>



                                    </div>
                                </div>
 

                                <div class="tab-pane fade" id="orders" role="tabpanel" aria-labelledby="orders-tab">
                                    <div class="card">
                                        <div class="card-header">
                                            <h3 class="mb-0">Your Favorites</h3>
                                        </div>
                                      
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="track-orders" role="tabpanel"
                                    aria-labelledby="track-orders-tab">
                                    <div class="card">
                                        <div class="card-header">
                                            <h3 class="mb-0">Liked Products</h3>
                                        </div><hr><br>

                                        <div class="container-fluid">
                                            {% if liked_products %}
                                                <div class="row">
                                                    {% for product in liked_products %}
                                                        <div class="col-lg-5 col-md-6 col-6 mb-30"> <!-- Adjust the column width as needed -->
                                                            <div class="product-cart-wrap">
                                                                <!-- Product image -->
                                                                <div class="product-img-action-wrap">
                                                                    <div class="product-img product-img-zoom">
                                                                        <img class="default-img" src="{{ product.image }}" alt="{{ product.title }}">
                                                                    </div>
                                                                </div>
                                        
                                                                <!-- Product info -->
                                                                <div class="product-content-wrap">
                                                                    <div class="product-category">
                                                                        <a href="shop-grid-right.html">{{ product.category }}</a>
                                                                    </div>
                                                                    <h2><a href="{% url 'home:product_detail' product_id=product.id %}">{{ product.title }}</a></h2>
                                                                    <div class="product-rate-cover">
                                                                        <label class="fw-900 mt-15" style="width: 90%">{{ product.supermarket }}</label>
                                                                    </div>
                                                                    <div>
                                                                        <span class="font-small text-muted">{{ product.weight }}</span>
                                                                    </div>
                                                                    <div class="product-card-bottom">
                                                                        <div class="product-price">
                                                                            <span>{{ product.original_price }}</span>
                                                                            <span class="old-price"></span>
                                                                        </div>
                                                                        <div class="add-cart">
                                                                            <a class="add" href="#"><i class="fi-rs-shopping-cart mr-5"></i>View</a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                        
                                                        {% if forloop.counter|divisibleby:2 and not forloop.last %}
                                                            </div><div class="row"> <!-- Start a new row after every 2 cards -->
                                                        {% endif %}
                                                    {% endfor %}
                                                </div>
                                            {% else %}
                                                <div class="row">
                                                    <div class="col-lg-6 col-md-6 col-12 mb-30">
                                                        <div class="product-cart-wrap">
                                                            <!-- Display a placeholder image or any other content for no liked products -->
                                                            <img class="default-img" src="{% static 'path-to-placeholder-image.png' %}" alt="Placeholder">
                                                            <div class="product-content-wrap">
                                                                <div class="product-category">
                                                                    <a href="#">No liked products yet.</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        </div>

                                        

                                        <!-- <ul>
                                            {% if liked_products %}
                                                {% for product in liked_products %}
                                                    <img class="default-img" src="{{ product.image }}" alt="{{ product.title }}" style="width: 20%;">
                                                    <li>{{ product.title }}</li>
                                                    <li>{{ product.original_price }}</li>
                                                {% endfor %}<br>
                                            {% else %}
                                                <li>No liked products yet.</li>
                                            {% endif %}
                                        </ul> -->
                                       
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="address" role="tabpanel" aria-labelledby="address-tab">
                                    <div class="card">
                                        <div class="card-header">
                                            <h3 class="mb-0">Disliked Products</h3>
                                        </div><hr><br>

                                        <div class="container-fluid">
                                            {% if disliked_products %}
                                                <div class="row">
                                                    {% for product in disliked_products %}
                                                        <div class="col-lg-5 col-md-6 col-6 mb-30"> <!-- Adjust the column width as needed -->
                                                            <div class="product-cart-wrap">
                                                                <!-- Product image -->
                                                                <div class="product-img-action-wrap">
                                                                    <div class="product-img product-img-zoom">
                                                                        <img class="default-img" src="{{ product.image }}" alt="{{ product.title }}">
                                                                    </div>
                                                                </div>
                                        
                                                                <!-- Product info -->
                                                                <div class="product-content-wrap">
                                                                    <div class="product-category">
                                                                        <a href="shop-grid-right.html">{{ product.category }}</a>
                                                                    </div>
                                                                    <h2><a href="{% url 'home:product_detail' product_id=product.id %}">{{ product.title }}</a></h2>
                                                                    <div class="product-rate-cover">
                                                                        <label class="fw-900 mt-15" style="width: 90%">{{ product.supermarket }}</label>
                                                                    </div>
                                                                    <div>
                                                                        <span class="font-small text-muted">{{ product.weight }}</span>
                                                                    </div>
                                                                    <div class="product-card-bottom">
                                                                        <div class="product-price">
                                                                            <span>{{ product.original_price }}</span>
                                                                            <span class="old-price"></span>
                                                                        </div>
                                                                        <div class="add-cart">
                                                                            <a class="add" href="#"><i class="fi-rs-shopping-cart mr-5"></i>View</a>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                        
                                                        {% if forloop.counter|divisibleby:2 and not forloop.last %}
                                                            </div><div class="row"> <!-- Start a new row after every 2 cards -->
                                                        {% endif %}
                                                    {% endfor %}
                                                </div>
                                            {% else %}
                                                <div class="row">
                                                    <div class="col-lg-6 col-md-6 col-12 mb-30">
                                                        <div class="product-cart-wrap">
                                                            <!-- Display a placeholder image or any other content for no liked products -->
                                                            <img class="default-img" src="{% static 'path-to-placeholder-image.png' %}" alt="Placeholder">
                                                            <div class="product-content-wrap">
                                                                <div class="product-category">
                                                                    <a href="#">No disliked products yet.</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        </div>

                                        <!-- <ul>
                                            {% if disliked_products %}
                                                {% for product in disliked_products %}
                                                    <img class="default-img" src="{{ product.image }}" alt="{{ product.title }}" style="width: 20%;">
                                                    <li>{{ product.title }}</li>
                                                    <li>{{ product.original_price }}</li>
                                                {% endfor %}<br>
                                            {% else %}
                                                <li>No disliked products yet.</li>
                                            {% endif %}
                                        </ul> -->
                                    </div>
                                </div>
                               
                                <!-- <div class="col-md-12">
                                    <a class="btn btn-fill-out submit font-weight-bold">Edit Details</a>
                                </div> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>



{% endblock %}